ДОМАШНЯЯ РАБОТА ПО КОНФИГУРАЦИОННОМУ УПРАВЛЕНИЮ №1
Чумаков Сергей Юрьевич ИКБО-43-23

SHELL EMULATOR

Вариант №30: Разработать эмулятор для языка оболочки ОС. Необходимо сделать работу
эмулятора как можно более похожей на сеанс shell в UNIX-подобной ОС.
Эмулятор должен запускаться из реальной командной строки, а файл с
виртуальной файловой системой не нужно распаковывать у пользователя.
Эмулятор принимает образ виртуальной файловой системы в виде файла формата
tar. Эмулятор должен работать в режиме CLI.

1. ОБЩЕЕ ОПИСАНИЕ.

Этот проект представляет собой эмулятор командной строки, реализованный на Python, который позволяет пользователю выполнять базовые команды файловой системы, такие как ls, cd, du, и find. Эмулятор работает с виртуальной файловой системой, распакованной из архива .tar, и сохраняет журнал действий в формате JSON. Также включены тесты для проверки правильности работы функций эмулятора.

2. ОПИСАНИЕ ВСЕХ ФУНКЦИЙ И НАСТРОЕК

Основные функции:

handle_ls(directory: str) -> list
Отображает список файлов и директорий в указанной директории.

handle_cd(command: str, current_dir: str) -> str
Переходит в указанную директорию, если она существует.

handle_du(directory: str) -> int
Возвращает общий размер всех файлов в указанной директории.

handle_find(directory: str, filename: str) -> list
Ищет файл в указанной директории и возвращает путь к нему, если найден.

Настройки:

--user <имя пользователя> — Устанавливает имя пользователя, которое будет отображаться в командной строке.

--host <имя хоста> — Устанавливает имя хоста.

--fs <архив файловой системы> — Путь к архиву виртуальной файловой системы, который нужно распаковать.

--log <файл журнала> — Путь к файлу журнала, в котором сохраняются действия пользователя.

3. ОПИСАНИЕ КОМАНД ДЛЯ СБОРКИ ПРОЕКТА

Для запуска эмулятора используется эта команда:


```python shell_emulator.py --user <имя пользователя> --host <имя хоста> --fs <архив файловой системы> --log <файл журнала>```

Пример команды: 

```python shell_emulator.py --user student --host localhost --fs virtual_fs.tar --log actions_log.json```

Для запуска тестов используется команда:

```python -m pytest```

